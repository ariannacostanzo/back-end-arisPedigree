generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model breed {
  id        Int      @id @default(autoincrement())
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model country {
  id        Int      @id @default(autoincrement())
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime
  code      String   @unique(map: "Country_code_key")
}

model dog {
  id             Int       @id @default(autoincrement())
  name           String?
  slug           String
  image          String?
  titles         String?
  sireId         Int? // Foreign key verso il padre
  damId          Int? // Foreign key verso la madre
  sire           dog?      @relation("FatherRelation", fields: [sireId], references: [id])
  dam            dog?      @relation("MotherRelation", fields: [damId], references: [id])
  childrenAsSire dog[]     @relation("FatherRelation") // Relazione per i figli
  childrenAsDam  dog[]     @relation("MotherRelation") // Relazione per i figli
  sex            Boolean   @default(true)
  size           Int?
  weight         Int?
  dateOfBirth    DateTime?
  dateOfDeath    DateTime?
  color          String?
  countryId      Int?
  breeder        String?
  kennel         String?
  owner          String?
  notes          String?
  breedId        Int?
  createdAt      DateTime  @default(now())
  updatedAt      DateTime

  @@index([breedId], map: "Dog_breedId_fkey")
  @@index([countryId], map: "Dog_countryId_fkey")
}

model user {
  id        Int      @id @default(autoincrement())
  email     String   @unique(map: "User_email_key")
  name      String   @unique(map: "User_name_key")
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime
}
